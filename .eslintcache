[{"E:\\test-task\\contacts\\contact-book-front\\src\\index.tsx":"1","E:\\test-task\\contacts\\contact-book-front\\src\\reportWebVitals.ts":"2","E:\\test-task\\contacts\\contact-book-front\\src\\api\\hooks.ts":"3","E:\\test-task\\contacts\\contact-book-front\\src\\api\\useRequest.ts":"4","E:\\test-task\\contacts\\contact-book-front\\src\\components\\CheckBox\\CheckBox.tsx":"5","E:\\test-task\\contacts\\contact-book-front\\src\\components\\Button\\Button.tsx":"6","E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\CaretDownIcon.tsx":"7","E:\\test-task\\contacts\\contact-book-front\\src\\components\\Button\\Button.style.tsx":"8","E:\\test-task\\contacts\\contact-book-front\\src\\components\\Input\\Input.tsx":"9","E:\\test-task\\contacts\\contact-book-front\\src\\components\\WrapperStyle.tsx":"10","E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\SearchIcon.tsx":"11","E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\TrashIcon.tsx":"12","E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\PencilIcon.tsx":"13","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\Contacts\\Contacts.tsx":"14","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\Contacts\\Contacts.style.tsx":"15","E:\\test-task\\contacts\\contact-book-front\\src\\context\\ModalContext.tsx":"16","E:\\test-task\\contacts\\contact-book-front\\src\\context\\create-context.tsx":"17","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ContactForm\\ContactUpdateForm.tsx":"18","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ContactForm\\ContactForm.tsx":"19","E:\\test-task\\contacts\\contact-book-front\\src\\components\\FormFields\\FormFields.tsx":"20","E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\PlusIcon.tsx":"21","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ContactForm\\Fields.tsx":"22","E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\CloseIcon.tsx":"23","E:\\test-task\\contacts\\contact-book-front\\src\\utils\\add-server-errors.ts":"24","E:\\test-task\\contacts\\contact-book-front\\src\\settings\\constants.ts":"25","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ModalItems\\ModalItems.tsx":"26","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ModalItems\\ModalItems.style.tsx":"27","E:\\test-task\\contacts\\contact-book-front\\src\\routes.tsx":"28","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\Layout\\Layout.tsx":"29","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\Layout\\Layout.style.tsx":"30","E:\\test-task\\contacts\\contact-book-front\\src\\components\\Pagination\\Pagination.tsx":"31","E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\ArrowNext.tsx":"32","E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\ArrowPrev.tsx":"33","E:\\test-task\\contacts\\contact-book-front\\src\\utils\\use-previous.tsx":"34","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ContactForm\\ContactForm.style.tsx":"35","E:\\test-task\\contacts\\contact-book-front\\src\\components\\DotsLoader.tsx":"36"},{"size":948,"mtime":1611960289750,"results":"37","hashOfConfig":"38"},{"size":425,"mtime":499162500000,"results":"39","hashOfConfig":"38"},{"size":1797,"mtime":1612029766740,"results":"40","hashOfConfig":"38"},{"size":1711,"mtime":1611668492378,"results":"41","hashOfConfig":"38"},{"size":1152,"mtime":1611738848565,"results":"42","hashOfConfig":"38"},{"size":714,"mtime":1611688425438,"results":"43","hashOfConfig":"38"},{"size":385,"mtime":1595017696000,"results":"44","hashOfConfig":"38"},{"size":1101,"mtime":1611679954186,"results":"45","hashOfConfig":"38"},{"size":841,"mtime":1612032616365,"results":"46","hashOfConfig":"38"},{"size":763,"mtime":1612044019137,"results":"47","hashOfConfig":"38"},{"size":739,"mtime":1595017696000,"results":"48","hashOfConfig":"38"},{"size":569,"mtime":1611747593010,"results":"49","hashOfConfig":"38"},{"size":512,"mtime":1611780772999,"results":"50","hashOfConfig":"38"},{"size":12293,"mtime":1612090210026,"results":"51","hashOfConfig":"38"},{"size":2796,"mtime":1612043582047,"results":"52","hashOfConfig":"38"},{"size":885,"mtime":1611778964709,"results":"53","hashOfConfig":"38"},{"size":1567,"mtime":1611777674056,"results":"54","hashOfConfig":"38"},{"size":5455,"mtime":1612090210027,"results":"55","hashOfConfig":"38"},{"size":5536,"mtime":1612090210026,"results":"56","hashOfConfig":"38"},{"size":1413,"mtime":1611779885553,"results":"57","hashOfConfig":"38"},{"size":528,"mtime":1611781722178,"results":"58","hashOfConfig":"38"},{"size":5595,"mtime":1611951057779,"results":"59","hashOfConfig":"38"},{"size":667,"mtime":1611868013234,"results":"60","hashOfConfig":"38"},{"size":397,"mtime":1611951411737,"results":"61","hashOfConfig":"38"},{"size":211,"mtime":1612091530701,"results":"62","hashOfConfig":"38"},{"size":1103,"mtime":1612042262118,"results":"63","hashOfConfig":"38"},{"size":537,"mtime":1611777674386,"results":"64","hashOfConfig":"38"},{"size":751,"mtime":1612043290644,"results":"65","hashOfConfig":"38"},{"size":402,"mtime":1611960289750,"results":"66","hashOfConfig":"38"},{"size":253,"mtime":1612092959273,"results":"67","hashOfConfig":"38"},{"size":4912,"mtime":1612000902829,"results":"68","hashOfConfig":"38"},{"size":431,"mtime":1595017696000,"results":"69","hashOfConfig":"38"},{"size":437,"mtime":1595017696000,"results":"70","hashOfConfig":"38"},{"size":230,"mtime":1612012668346,"results":"71","hashOfConfig":"38"},{"size":257,"mtime":1612042262247,"results":"72","hashOfConfig":"38"},{"size":655,"mtime":1612043281350,"results":"73","hashOfConfig":"38"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},"93vgw1",{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"89"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"76"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"113","messages":"114","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"76"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"76"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"139","messages":"140","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"141","usedDeprecatedRules":"76"},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"E:\\test-task\\contacts\\contact-book-front\\src\\index.tsx",[],["152","153"],"E:\\test-task\\contacts\\contact-book-front\\src\\reportWebVitals.ts",[],"E:\\test-task\\contacts\\contact-book-front\\src\\api\\hooks.ts",[],"E:\\test-task\\contacts\\contact-book-front\\src\\api\\useRequest.ts",[],"E:\\test-task\\contacts\\contact-book-front\\src\\components\\CheckBox\\CheckBox.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\components\\Button\\Button.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\CaretDownIcon.tsx",[],["154","155"],"E:\\test-task\\contacts\\contact-book-front\\src\\components\\Button\\Button.style.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\components\\Input\\Input.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\components\\WrapperStyle.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\SearchIcon.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\TrashIcon.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\PencilIcon.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\containers\\Contacts\\Contacts.tsx",["156"],"import React from \"react\";\r\nimport { useStyletron } from \"baseui\";\r\nimport { StyledTable, StyledHeadCell, StyledBodyCell, InputWrapper, HeaderWrapper,ButtonWrapper,PageWrapper, NoResult } from \"./Contacts.style\";\r\nimport { deleteContact, useContact } from \"../../api/hooks\";\r\nimport Checkbox from \"../../components/CheckBox/CheckBox\";\r\nimport { SearchIcon } from \"../../assets/icons/SearchIcon\";\r\nimport Button from \"../../components/Button/Button\";\r\nimport { Header, Heading, Wrapper } from \"../../components/WrapperStyle\";\r\nimport Input from \"../../components/Input/Input\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport { TrashIcon } from \"../../assets/icons/TrashIcon\";\r\nimport { Spinner } from \"baseui/spinner\";\r\nimport { PencilIcon } from \"../../assets/icons/PencilIcon\";\r\nimport { useModalDispatch } from \"../../context/ModalContext\";\r\nimport { Pagination } from \"../../components/Pagination/Pagination\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\n// import { usePrevious } from \"../../utils/use-previous\";\r\n\r\nconst EditContact: React.FC<{ data: IContact }> = ({ data }) => {\r\n  const [css, theme] = useStyletron();\r\n  const dispatch = useModalDispatch();\r\n  const openModal = React.useCallback(\r\n    () =>\r\n      dispatch({\r\n        type: \"OPEN_MODAL\",\r\n        modalComponent: \"CONTACT_UPDATE_FORM\",\r\n        data: data,\r\n      }),\r\n    [dispatch, data]\r\n  );\r\n\r\n  return (\r\n    <Button kind=\"minimal\" size=\"mini\" shape=\"round\" onClick={openModal}>\r\n      <PencilIcon color={theme.colors.positive300} />\r\n    </Button>\r\n  );\r\n};\r\n\r\nconst Phones: React.FC<{ phones: IPhone[] }> = ({ phones }) => {\r\n  const [css] = useStyletron();\r\n\r\n  return (\r\n    <div className={css({ display: \"flex\", flexDirection: \"column\" })}>\r\n      {phones.map((item, index) => (\r\n        <span key={index} className={css({ whiteSpace: \"nowrap\" })}>\r\n          {item.phone}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Emails: React.FC<{ emails: IEmail[] }> = ({ emails }) => {\r\n  const [css] = useStyletron();\r\n\r\n  return (\r\n    <div className={css({ display: \"flex\", flexDirection: \"column\" })}>\r\n      {emails.map((item, index) => (\r\n        <span key={index} className={css({ whiteSpace: \"nowrap\" })}>\r\n          {item.email}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Placeholder: React.FC<{ width: number; height: number }> = ({\r\n  width,\r\n  height,\r\n  children,\r\n}) => (\r\n  <ContentLoader\r\n    width={width}\r\n    height={height}\r\n    viewBox={`0 0 ${width} ${height}`}\r\n    backgroundColor=\"#f3f3f3\"\r\n    foregroundColor=\"#ecebeb\"\r\n  >\r\n    {children}\r\n  </ContentLoader>\r\n);\r\nconst StringPlaceholder = ({ width = 150, height = 20 }) => (\r\n  <Placeholder width={width} height={height}>\r\n    <rect x=\"0\" y=\"0\" width={width} height={height} />\r\n  </Placeholder>\r\n);\r\n\r\nconst LoadingSuspense = () => {\r\n  const [css] = useStyletron();\r\n  return (\r\n    <div\r\n      className={css({\r\n        position: \"fixed\",\r\n        zIndex: 9999,\r\n        top: 0,\r\n        left: 0,\r\n        right: 0,\r\n        bottom: 0,\r\n        backgroundColor: \"#000\",\r\n        height: \"100%\",\r\n        width: \"100%\",\r\n        opacity: \"30%\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n      })}\r\n    >\r\n      <Spinner color={\"gray\"} />\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst Contacts: React.FC<any> = (props) => {\r\n\r\n  const dispatch = useModalDispatch();\r\n  const openModal = React.useCallback(\r\n    () => dispatch({ type: \"OPEN_MODAL\",modalComponent:\"CONTACT_FORM\" }),\r\n    [dispatch]\r\n  );\r\n\r\n  const query = useQuery();\r\n\r\n  const [activePage, setActivePage] = React.useState(1);\r\n  const [css, theme] = useStyletron();\r\n  const [searchText, setSearchText] = React.useState(\"\");\r\n\r\n  const { contacts, isLoading, mutate, meta } = useContact(\r\n    searchText,\r\n    activePage\r\n  );\r\n\r\n  const [checkedId, setCheckedId] = React.useState<Array<number>>([]);\r\n  const [checked, setChecked] = React.useState(false);\r\n  const [loading, setLoading] = React.useState(false);\r\n\r\n  // React.useEffect(() => {\r\n  //   let q = Number(query.get(\"page\"));\r\n  //   if (q) {\r\n  //     setActivePage(q);\r\n  //   }\r\n  // }, [meta]);\r\n\r\n  // console.log(\"current page:\", meta?.current_page);\r\n  // console.log(\"last page:\", meta?.last_page);\r\n\r\n\r\n\r\n  const history = useHistory();\r\n  const counter = React.useRef(0);\r\n  // const historyRef = React.useRef(query.get(\"page\"));\r\n  const [relativeLink, setRelativeLink] = React.useState(\"\");\r\n\r\n  const page = query.get(\"page\");\r\n\r\n  React.useEffect(() => {\r\n    if (page) {\r\n      setActivePage(Number(page));\r\n      window.scroll({\r\n        left:0,\r\n        top:0,\r\n        behavior:\"smooth\"\r\n      });\r\n    }\r\n  }, [page]);\r\n\r\n\r\n  // const prevSearch=usePrevious(searchText);\r\n\r\n  React.useEffect(() => {\r\n\r\n    if (searchText) {\r\n      // console.log('prevSearh:',prevSearch)\r\n      // console.log('currentSearch:',searchText)\r\n      // console.log(prevSearch===searchText);\r\n      counter.current += 1;\r\n      if (counter.current === 1) {\r\n        // historyRef.current = String(activePage);\r\n        setActivePage(1);\r\n      }\r\nif(!isLoading){\r\n      // if(counter.current===1||prevSearch!==searchText){\r\n      history.push({\r\n        pathname: \"/\",\r\n        search: `q=${searchText}${\r\n          meta?.last_page && meta?.last_page > 1 ? \"&page=\" + activePage : \"\"\r\n        }`,\r\n      });\r\n    // }\r\n  }\r\n\r\n      setRelativeLink(`?q=${searchText}&`);\r\n    } else {\r\n      // console.log(\"counter:\", counter.current);\r\n      if (counter.current >= 1) {\r\n        // console.log(\"activepage before:\", activePage);\r\n        // setActivePage(Number(historyRef.current));\r\n        // console.log('pacge before search:',historyRef.current)\r\n        // console.log(\"activepage after:\", activePage);\r\n        // console.log(\"lastpage before push:\",meta?.last_page)\r\n        counter.current = 0;\r\n\r\n        }\r\n     if(!isLoading){\r\n        history.push({\r\n          pathname: \"/\",\r\n          search: `${\r\n            meta?.last_page && meta?.last_page > 1 ? \"?page=\" + activePage : \"\"\r\n          }`,\r\n        });\r\n     }\r\n        setRelativeLink(\"\");\r\n        // console.log('activePage:',activePage);\r\n        // console.log('query page:',query.get(\"page\"))\r\n        // counter.current = 0;\r\n        // historyRef.current=query.get(\"page\");\r\n      // }\r\n    }\r\n\r\n\r\n  }, [activePage, searchText,history, meta?.last_page,isLoading]);\r\n\r\n  // console.log(\"Last page number:\", meta?.last_page);\r\n  // console.log(\"Current ppage:\", meta?.current_page);\r\n\r\n  React.useEffect(() => {}, [checkedId]);\r\n\r\n  function onAllCheck(event: React.MouseEvent<HTMLInputElement>) {\r\n    if (event.currentTarget.checked) {\r\n      const idx = contacts && contacts.map((contact) => contact.id);\r\n      setCheckedId(idx);\r\n    } else {\r\n      setCheckedId([]);\r\n    }\r\n    setChecked(event.currentTarget.checked);\r\n  }\r\n\r\n  function refreshIdList() {\r\n    setCheckedId([]);\r\n  }\r\n\r\n  function handleDelete() {\r\n    setLoading(true);\r\n    deleteContact(checkedId)\r\n      .then((res) => {\r\n        mutate().then(() =>{\r\n          refreshIdList()\r\n        });\r\n        console.log(res);\r\n      })\r\n      .catch((err) => console.log(err.response))\r\n      .finally(()=>setLoading(false))\r\n  }\r\n\r\n  function handleCheckbox(event: React.MouseEvent<HTMLInputElement>) {\r\n    const { name } = event.currentTarget;\r\n    const nameId = parseInt(name, 10);\r\n    if (!checkedId.includes(nameId)) {\r\n      setCheckedId((prevState) => [...prevState, nameId]);\r\n    } else {\r\n      setCheckedId((prevState) => prevState.filter((id) => id !== nameId));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <Header>\r\n        <HeaderWrapper>\r\n          <Heading>Contacts</Heading>\r\n          <InputWrapper>\r\n            <Input\r\n              value={searchText}\r\n              onChange={(e) => setSearchText(e.currentTarget.value)}\r\n              startEnhancer={<SearchIcon />}\r\n              clearable\r\n            />\r\n         </InputWrapper>\r\n         <ButtonWrapper> \r\n          <Button\r\n            overrides={{\r\n              BaseButton: {\r\n                style: ({ $theme }) => ({\r\n                  whiteSpace:\"nowrap\",\r\n                  backgroundColor: $theme.colors.positive300,\r\n                  \":hover\": {\r\n                    backgroundColor: $theme.colors.positive400,\r\n                  },\r\n                  borderTopLeftRadius: \"3px\",\r\n                  borderTopRightRadius: \"3px\",\r\n                  borderBottomLeftRadius: \"3px\",\r\n                  borderBottomRightRadius: \"3px\",\r\n                }),\r\n              },\r\n            }}\r\n            onClick={openModal}\r\n          >\r\n            Add Contact\r\n          </Button>\r\n          </ButtonWrapper>\r\n          </HeaderWrapper>\r\n\r\n      </Header>\r\n      <Wrapper>\r\n        <StyledTable\r\n          role=\"grid\"\r\n          $gridTemplateColumns=\"90px minmax(100px,300px) 1fr 1fr 90px\"\r\n        >\r\n          <div role=\"row\" className={css({ display: \"contents\" })}>\r\n            <StyledHeadCell>\r\n              <Checkbox\r\n                type=\"checkbox\"\r\n                value=\"checkAll\"\r\n                checked={checked}\r\n                onChange={onAllCheck}\r\n              />\r\n              {checkedId.length > 0 && (\r\n                <Button\r\n                  kind=\"minimal\"\r\n                  size=\"mini\"\r\n                  shape=\"round\"\r\n                  onClick={handleDelete}\r\n                >\r\n                  <TrashIcon\r\n                    height={18}\r\n                    width={18}\r\n                    color={theme.colors.negative300}\r\n                  />\r\n                </Button>\r\n              )}\r\n            </StyledHeadCell>\r\n            <StyledHeadCell>Name</StyledHeadCell>\r\n            <StyledHeadCell>Phone</StyledHeadCell>\r\n            <StyledHeadCell>Email</StyledHeadCell>\r\n            <StyledHeadCell>Action</StyledHeadCell>\r\n          </div>\r\n          {contacts && !isLoading ? (\r\n            contacts.length ? (\r\n              contacts.map((contact) => (\r\n                <div\r\n                  role=\"row\"\r\n                  key={contact.id}\r\n                  className={css({ display: \"contents\" })}\r\n                >\r\n                  {\" \"}\r\n                  <StyledBodyCell>\r\n                    <Checkbox\r\n                      name={String(contact.id)}\r\n                      checked={checkedId.includes(contact.id)}\r\n                      onChange={handleCheckbox}\r\n                    />{\" \"}\r\n                  </StyledBodyCell>\r\n                  <StyledBodyCell>{contact.name}</StyledBodyCell>\r\n                  <StyledBodyCell>\r\n                    <Phones phones={contact.phones} />\r\n                  </StyledBodyCell>\r\n                  <StyledBodyCell>\r\n                    <Emails emails={contact.emails} />\r\n                  </StyledBodyCell>\r\n                  <StyledBodyCell>\r\n                    <EditContact data={contact} />\r\n                  </StyledBodyCell>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <NoResult\r\n              >\r\n                No Result\r\n              </NoResult>\r\n            )\r\n          ) : (\r\n            [0, 1, 2, 3,4,5,6].map((val) => (\r\n              <React.Fragment key={val}>\r\n                <StyledBodyCell>\r\n                  <StringPlaceholder width={24} />\r\n                </StyledBodyCell>\r\n                <StyledBodyCell>\r\n                  <StringPlaceholder />\r\n                </StyledBodyCell>\r\n                <StyledBodyCell>\r\n                  <StringPlaceholder />\r\n                </StyledBodyCell>\r\n                <StyledBodyCell>\r\n                  <StringPlaceholder />\r\n                </StyledBodyCell>\r\n                <StyledBodyCell>\r\n                  <StringPlaceholder width={60} />\r\n                </StyledBodyCell>\r\n              </React.Fragment>\r\n            ))\r\n          )}\r\n        </StyledTable>\r\n      </Wrapper>\r\n      <Pagination\r\n        relativeLink={relativeLink || \"?\"}\r\n        totalPages={meta?.last_page || 1}\r\n        activePage={activePage}\r\n        // onPageChange={(page)=>setActivePage(page)}\r\n      />\r\n      {loading && <LoadingSuspense />}\r\n    </PageWrapper>\r\n  );\r\n};\r\n\r\nexport default Contacts;\r\n","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\Contacts\\Contacts.style.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\context\\ModalContext.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\context\\create-context.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ContactForm\\ContactUpdateForm.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ContactForm\\ContactForm.tsx",["157","158"],"import React from \"react\";\r\nimport Button from \"../../components/Button/Button\";\r\nimport {\r\n  Error,\r\n  FormFields,\r\n  FormLabel,\r\n} from \"../../components/FormFields/FormFields\";\r\nimport Input from \"../../components/Input/Input\";\r\nimport { useModalDispatch } from \"../../context/ModalContext\";\r\nimport {\r\n  Form,\r\n  ModalTitleWrapper,\r\n  ModalTitle,\r\n} from \"../ModalItems/ModalItems.style\";\r\n// import { PlusIcon } from \"../../assets/icons/PlusIcon\";\r\nimport { useForm, Controller, SubmitHandler } from \"react-hook-form\";\r\nimport * as yup from \"yup\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { PhoneFields, EmailFields } from \"./Fields\";\r\nimport { addContact, useContact } from \"../../api/hooks\";\r\nimport _ from \"lodash\";\r\nimport { addServerErrors } from \"../../utils/add-server-errors\";\r\nimport{FormWrapper,ButtonWrapper} from \"./ContactForm.style\";\r\n\r\ndeclare module \"yup\"{\r\n    interface ArraySchema<T>{\r\n        unique(propertyPath:string,message:string):ArraySchema<T>\r\n    }\r\n}\r\n\r\nyup.addMethod(yup.array, \"unique\", function (propertyPath:string, message:string) {\r\n  return this.test(\"unique\", \"\", function (list) {\r\n    const errors: any = [];\r\n\r\n    list?.forEach((item, index) => {\r\n      const propertyValue = _.get(item, propertyPath);\r\n\r\n      if (\r\n        propertyValue &&\r\n        _.filter(list, [propertyPath, propertyValue]).length > 1\r\n      ) {\r\n        errors.push(\r\n          this.createError({\r\n            path: `${this.path}[${index}].${propertyPath}`,\r\n            message,\r\n          })\r\n        );\r\n      }\r\n    });\r\n\r\n    if (!_.isEmpty(errors)) {\r\n      throw new yup.ValidationError(errors);\r\n    }\r\n\r\n    return true;\r\n  });\r\n});\r\n\r\nconst EmailSchema = yup.object().shape({\r\n  email: yup\r\n    .string()\r\n    .required(\"Email required\")\r\n    .email(\"Incorrect email format\"),\r\n});\r\nconst PhoneSchema = yup.object().shape({\r\n  phone: yup.string().min(7, \"Number length must be 7 or more\"),\r\n});\r\nconst ContactSchema = yup.object().shape({\r\n  name: yup.string().required(\"Name required\"),\r\n  //@ts-ignore\r\n  emails: yup\r\n    .array()\r\n    .of(EmailSchema)\r\n    .unique(\"email\", \"Email may not have duplicates\"),\r\n  //@ts-ignore\r\n  phones: yup\r\n    .array()\r\n    .of(PhoneSchema)\r\n    .unique(\"phone\", \"Phone may not have duplicates\"),\r\n});\r\n\r\n\r\n\r\nconst ContactForm: React.FC<any> = (props) => {\r\n  const [updating, setUpdating] = React.useState(false);\r\n  const { mutate } = useContact();\r\n\r\n  const dispatch = useModalDispatch();\r\n  //   const data = useModalState(\"data\");\r\n  const closeModal = React.useCallback(\r\n    () => dispatch({ type: \"CLOSE_MODAL\" }),\r\n    [dispatch]\r\n  );\r\n\r\n  const { control, handleSubmit, errors, register, setError } = useForm({\r\n    defaultValues: {\r\n      name: \"\",\r\n      emails: [{ email: \"\" }],\r\n      phones: [{ phone: \"\" }],\r\n    },\r\n    resolver: yupResolver(ContactSchema),\r\n  });\r\n\r\n  const onSubmit: SubmitHandler<IContact> = (formData) => {\r\n    setUpdating(true);\r\n    //   if(data&&data.id){\r\n    addContact(formData)\r\n      .then((res) => {\r\n        mutate()\r\n          .then((res) => {\r\n            closeModal();\r\n          })\r\n          .catch((err) => console.log(err));\r\n\r\n        console.log(res);\r\n      })\r\n      .catch((err) => {\r\n        if (err.response.data.errors) {\r\n          addServerErrors<{}>(err.response?.data?.errors, setError);\r\n        } else {\r\n          addServerErrors<{}>({ server: [\"Unknown server error\"] }, setError);\r\n          alert(\"Unknown server error\");\r\n          console.log(errors);\r\n        }\r\n        console.log(err.response);\r\n      })\r\n      .finally(() => setUpdating(false));\r\n    //   }\r\n    console.log(\"data\", formData);\r\n  };\r\n\r\n  return (\r\n    <FormWrapper>\r\n      <Form onSubmit={handleSubmit(onSubmit)}>\r\n        <ModalTitleWrapper>\r\n          <ModalTitle>Add Contact</ModalTitle>\r\n        </ModalTitleWrapper>\r\n        <FormFields>\r\n          <FormLabel>Contact Name</FormLabel>\r\n          <Controller\r\n            name=\"name\"\r\n            control={control}\r\n            defaultValue={\"\"}\r\n            render={({ onChange, onBlur, value, ref }) => (\r\n              <Input\r\n                onBlur={onBlur}\r\n                onChange={onChange}\r\n                value={value}\r\n                inputRef={ref}\r\n              />\r\n            )}\r\n          />\r\n          {errors?.name && <Error>{errors.name?.message}</Error>}\r\n        </FormFields>\r\n        <FormFields>\r\n          <FormLabel>Phone Number(s)</FormLabel>\r\n          <PhoneFields register={register} errors={errors} control={control} />\r\n        </FormFields>\r\n        <FormFields>\r\n          <FormLabel>Email(s)</FormLabel>\r\n          <EmailFields register={register} errors={errors} control={control} />\r\n        </FormFields>\r\n        <ButtonWrapper>\r\n          <Button\r\n            type=\"submit\"\r\n            overrides={{\r\n              BaseButton: {\r\n                style: ({ $theme }) => ({\r\n                  backgroundColor: $theme.colors.positive300,\r\n                  \":hover\": {\r\n                    backgroundColor: $theme.colors.positive400,\r\n                  },\r\n                  borderTopLeftRadius: \"3px\",\r\n                  borderTopRightRadius: \"3px\",\r\n                  borderBottomLeftRadius: \"3px\",\r\n                  borderBottomRightRadius: \"3px\",\r\n                }),\r\n              },\r\n            }}\r\n            isLoading={updating}\r\n          >\r\n            Add Contact\r\n          </Button>\r\n        </ButtonWrapper>\r\n      </Form>\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default ContactForm;\r\n","E:\\test-task\\contacts\\contact-book-front\\src\\components\\FormFields\\FormFields.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\PlusIcon.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ContactForm\\Fields.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\CloseIcon.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\utils\\add-server-errors.ts",[],"E:\\test-task\\contacts\\contact-book-front\\src\\settings\\constants.ts",[],"E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ModalItems\\ModalItems.tsx",["159","160","161","162","163"],"import React from 'react'\r\nimport {\r\n    Modal,\r\n    ModalHeader,\r\n    ModalBody,\r\n    ModalFooter,\r\n    ModalButton,\r\n  } from 'baseui/modal';\r\nimport Button from '../../components/Button/Button'\r\nimport { CloseIcon } from '../../assets/icons/CloseIcon';\r\nimport {useModalState,useModalDispatch} from '../../context/ModalContext'\r\n\r\n/** Modal components  */\r\nimport ContactUpdateForm from '../ContactForm/ContactUpdateForm';\r\nimport ContactForm from '../ContactForm/ContactForm';\r\n\r\nconst MODAL_COMPONENTS={\r\n    CONTACT_UPDATE_FORM:ContactUpdateForm,\r\n    CONTACT_FORM:ContactForm\r\n}\r\n\r\n\r\nexport default function ModalItems() {\r\n    const isOpen = useModalState('isOpen');\r\n    const modalComponent = useModalState('modalComponent');\r\n    const data = useModalState('data');\r\n    const dispatch = useModalDispatch();\r\n    const closeModal = React.useCallback(() => dispatch({ type: 'CLOSE_MODAL' }), [\r\n      dispatch,\r\n    ]);\r\n    if (!modalComponent) {\r\n      return null;\r\n    }\r\n    //@ts-ignore\r\n    const SpecificContent = MODAL_COMPONENTS[modalComponent];\r\n  console.log('Is Open :',isOpen)\r\n    return (\r\n      <Modal isOpen={isOpen} onClose={closeModal}\r\n      >\r\n          <ModalBody>\r\n <SpecificContent onClose={closeModal} data={data} />\r\n          </ModalBody>\r\n       \r\n      </Modal>\r\n    );\r\n  }\r\n  ","E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ModalItems\\ModalItems.style.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\routes.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\containers\\Layout\\Layout.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\containers\\Layout\\Layout.style.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\components\\Pagination\\Pagination.tsx",["164"],"import { useStyletron } from \"baseui\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ArrowPrev } from \"../../assets/icons/ArrowPrev\";\r\nimport { ArrowNext } from \"../../assets/icons/ArrowNext\";\r\n\r\n// type HandlePageChange=(page:T,(page:T)=>void)=>void\r\ntype PageChange=(page:number)=>void\r\nconst makePaginationLinks = (\r\n  pages: number,\r\n  active: number,\r\n  relativeLink: string,\r\n  arrowClassName: string,\r\n  linkClassName: string,\r\n  activeLinkClassName: string,\r\n  subContainerClassName: string,\r\n  onPageChange?:PageChange\r\n) => {\r\n  let pageNumbers = [];\r\n  let startIndex: number;\r\n  let endIndex: number;\r\n\r\n\r\n  const handleClick=(page:number)=>{\r\n    if(onPageChange){\r\n      return onPageChange(page);\r\n\r\n    }\r\n  }\r\n\r\n  if (pages <= 5) {\r\n    // less than 5 pages ,then show all\r\n    startIndex = 1;\r\n    endIndex = pages;\r\n  } else {\r\n    // more than 5 total pages,so calculate start and end pages\r\n    if (active <= 3) {\r\n      startIndex = 1;\r\n      endIndex = 5;\r\n    } else if (active + 2 >= pages) {\r\n      startIndex = pages - 4;\r\n      endIndex = pages;\r\n    } else {\r\n      startIndex = active - 2;\r\n      endIndex = active + 2;\r\n    }\r\n  }\r\n\r\n  // add first pagination if startIndex is not 1\r\n\r\n  if (startIndex > 1) {\r\n    pageNumbers.push(\r\n      <li className={subContainerClassName}>\r\n        <Link\r\n          to={`${relativeLink}page=${active - 1}`}\r\n          className={linkClassName}\r\n          key=\"1\"\r\n          onClick={()=>handleClick(active-1)}\r\n        >\r\n          <span className={arrowClassName}>\r\n            <ArrowPrev />\r\n          </span>\r\n        </Link>\r\n      </li>\r\n    );\r\n  }\r\n\r\n  for (let i = startIndex; i <= endIndex; i++) {\r\n    pageNumbers.push(\r\n      <li className={subContainerClassName} key={i}>\r\n        {active === i ? (\r\n          <span className={activeLinkClassName}>{i}</span>\r\n        ) : (\r\n          <Link\r\n            to={`${relativeLink}page=${i}`}\r\n            className={linkClassName}\r\n            key={i}\r\n            onClick={()=>handleClick(i)}\r\n          >\r\n            <span>{i}</span>\r\n          </Link>\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n\r\n  if (endIndex < pages) {\r\n    pageNumbers.push(\r\n      <li className={subContainerClassName}>\r\n        <Link\r\n          to={`${relativeLink}page=${active + 1}`}\r\n          className={linkClassName}\r\n          key={pages}\r\n          onClick={()=>handleClick(active-1)}\r\n        >\r\n          <span className={arrowClassName}>\r\n            <ArrowNext />\r\n          </span>\r\n        </Link>\r\n      </li>\r\n    );\r\n  }\r\n\r\n  return pageNumbers;\r\n};\r\n\r\nexport const Pagination: React.FC<{\r\n  relativeLink: string;\r\n  activePage: number;\r\n  totalPages: number;\r\n  onPageChange?:PageChange\r\n}> = ({ totalPages, activePage, relativeLink,onPageChange }) => {\r\n  const [css, theme] = useStyletron();\r\n\r\n  const linkClassName = css({\r\n    display: \"flex\",\r\n    width: \"32px\",\r\n    height: \"32px\",\r\n    textDecoration: \"none\",\r\n    justifyContent: \"center\",\r\n    ...theme.typography.HeadingXSmall,\r\n    color: theme.colors.positive300,\r\n    backgroundColor: theme.colors.backgroundSecondary,\r\n    alignItems: \"center\",\r\n    alignContent: \"center\",\r\n    \":hover\": {\r\n      backgroundColor: theme.colors.backgroundTertiary,\r\n    },\r\n  });\r\n\r\n  const arrowClassName = css({\r\n    display: \"flex\",\r\n    width: \"48px\",\r\n    height: \"32px\",\r\n    backgroundColor: theme.colors.backgroundSecondary,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    color: theme.colors.positive300,\r\n    \":hover\": {\r\n      backgroundColor: theme.colors.backgroundTertiary,\r\n    },\r\n  });\r\n\r\n  const activeLinkClassName = css({\r\n    display: \"flex\",\r\n    width: \"32px\",\r\n    height: \"32px\",\r\n    justifyContent: \"center\",\r\n    ...theme.typography.HeadingXSmall,\r\n    color: theme.colors.mono900,\r\n    alignItems: \"center\",\r\n    alignContent: \"center\",\r\n    backgroundColor: theme.colors.backgroundTertiary,\r\n  });\r\n\r\n  const subContainerClassName = css({\r\n    marginRight: \"12px\",\r\n    overflow: \"hidden\",\r\n    borderRadius: \"4px\",\r\n    \":last-child\": {\r\n      marginRight: 0,\r\n    },\r\n    alignContent: \"center\",\r\n  });\r\nif(totalPages<2){\r\n  return null\r\n}else{\r\n  return (\r\n    <div className={css({ margin: \"20px 0\" })}>\r\n      <ul\r\n        className={css({\r\n          backgroundColor: theme.colors.white,\r\n          display: \"flex\",\r\n          borderRadius: \"0px\",\r\n          listStyleType: \"none\",\r\n          padding: \"20px 16px\",\r\n          alignContent: \"center\",\r\n          justifyContent: \"center\",\r\n          alignItems: \"center\",\r\n          boxShadow: \"0 0 8px rgba(0, 0 ,0, 0.1)\",\r\n        })}\r\n      >\r\n        {makePaginationLinks(\r\n          totalPages,\r\n          activePage,\r\n          relativeLink,\r\n          arrowClassName,\r\n          linkClassName,\r\n          activeLinkClassName,\r\n          subContainerClassName,\r\n          onPageChange\r\n        )}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n};\r\n","E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\ArrowNext.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\assets\\icons\\ArrowPrev.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\utils\\use-previous.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\containers\\ContactForm\\ContactForm.style.tsx",[],"E:\\test-task\\contacts\\contact-book-front\\src\\components\\DotsLoader.tsx",["165"],{"ruleId":"166","replacedBy":"167"},{"ruleId":"168","replacedBy":"169"},{"ruleId":"166","replacedBy":"170"},{"ruleId":"168","replacedBy":"171"},{"ruleId":"172","severity":1,"message":"173","line":20,"column":10,"nodeType":"174","messageId":"175","endLine":20,"endColumn":13},{"ruleId":"172","severity":1,"message":"176","line":5,"column":28,"nodeType":"174","messageId":"175","endLine":5,"endColumn":41},{"ruleId":"172","severity":1,"message":"177","line":66,"column":15,"nodeType":"174","messageId":"175","endLine":66,"endColumn":20},{"ruleId":"172","severity":1,"message":"178","line":4,"column":5,"nodeType":"174","messageId":"175","endLine":4,"endColumn":16},{"ruleId":"172","severity":1,"message":"179","line":6,"column":5,"nodeType":"174","messageId":"175","endLine":6,"endColumn":16},{"ruleId":"172","severity":1,"message":"180","line":7,"column":5,"nodeType":"174","messageId":"175","endLine":7,"endColumn":16},{"ruleId":"172","severity":1,"message":"181","line":9,"column":8,"nodeType":"174","messageId":"175","endLine":9,"endColumn":14},{"ruleId":"172","severity":1,"message":"182","line":10,"column":10,"nodeType":"174","messageId":"175","endLine":10,"endColumn":19},{"ruleId":"172","severity":1,"message":"183","line":22,"column":9,"nodeType":"174","messageId":"175","endLine":22,"endColumn":20},{"ruleId":"172","severity":1,"message":"173","line":23,"column":12,"nodeType":"174","messageId":"175","endLine":23,"endColumn":15},"no-native-reassign",["184"],"no-negated-in-lhs",["185"],["184"],["185"],"@typescript-eslint/no-unused-vars","'css' is assigned a value but never used.","Identifier","unusedVar","'useModalState' is defined but never used.","'theme' is assigned a value but never used.","'ModalHeader' is defined but never used.","'ModalFooter' is defined but never used.","'ModalButton' is defined but never used.","'Button' is defined but never used.","'CloseIcon' is defined but never used.","'handleClick' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]